Fungible Token (FT)
===================

Example implementation of a [Fungible Token] contract which uses [near-contract-standards] and [simulation] tests. This is a contract-only example.

  [Fungible Token]: https://nomicon.io/Standards/FungibleToken/Core
  [near-contract-standards]: https://github.com/near/near-sdk-rs/tree/master/near-contract-standards
  [simulation]: https://github.com/near/near-sdk-rs/tree/master/near-sdk-sim

Prerequisites
=============

If you're using Gitpod, you can skip this step.

1. Make sure Rust is installed per the prerequisites in [`near-sdk-rs`](https://github.com/near/near-sdk-rs#pre-requisites)
2. Ensure `near-cli` is installed by running `near --version`. If not installed, install with: `npm install -g near-cli`

## Building

To build run:
```bash
./scripts/build.sh
```

Using this contract
===================

### Quickest deploy

You can build and deploy this smart contract to a development account. [Dev Accounts](https://docs.near.org/concepts/basics/account#dev-accounts) are auto-generated accounts to assist in developing and testing smart contracts. Please see the [Standard deploy](#standard-deploy) section for creating a more personalized account to deploy to.

```bash
near dev-deploy --wasmFile res/fungible_token.wasm --helperUrl https://near-contract-helper.onrender.com
```

Behind the scenes, this is creating an account and deploying a contract to it. On the console, notice a message like:

>Done deploying to dev-1234567890123

In this instance, the account is `dev-1234567890123`. A file has been created containing a key pair to
the account, located at `neardev/dev-account`. To make the next few steps easier, we're going to set an
environment variable containing this development account id and use that when copy/pasting commands.
Run this command to the environment variable:

export NEAR_ENV=testnet
export OWNER_ID=hapi-test.testnet
export CONTRACT_ID=token.$OWNER_ID
export AML_ID=contract.$OWNER_ID

```bash
source neardev/dev-account.env
```

You can tell if the environment variable is set correctly if your command line prints the account name after this command:
```bash
echo $CONTRACT_NAME
```

The next command will initialize the contract using the `new` method:

```bash
near call $CONTRACT_ID new '{"owner_id": "'$OWNER_ID'", "total_supply": "1000000000000000000000000000000000", "metadata": { "spec": "ft-1.0.0", "name": "Hapi powered token", "symbol": "HAPI", "decimals": 18 }, "aml_account_id": "'$AML_ID'"}' --accountId $CONTRACT_ID
```

To get the fungible token metadata:

```bash
near view $CONTRACT_NAME ft_metadata
```

### Standard deploy

This smart contract will get deployed to your NEAR account. For this example, please create a new NEAR account. Because NEAR allows the ability to upgrade contracts on the same account, initialization functions must be cleared. If you'd like to run this example on a NEAR account that has had prior contracts deployed, please use the `near-cli` command `near delete`, and then recreate it in Wallet. To create (or recreate) an account, please follow the directions on [NEAR Wallet](https://wallet.near.org/).

Switch to `mainnet`. You can skip this step to use `testnet` as a default network.

    export NEAR_ENV=mainnet

In the project root, log in to your newly created account  with `near-cli` by following the instructions after this command:

    near login

To make this tutorial easier to copy/paste, we're going to set an environment variable for your account id. In the below command, replace `MY_ACCOUNT_NAME` with the account name you just logged in with, including the `.near`:

    ID=MY_ACCOUNT_NAME

You can tell if the environment variable is set correctly if your command line prints the account name after this command:

    echo $ID

Now we can deploy the compiled contract in this example to your account:

    near deploy --wasmFile res/fungible_token.wasm --accountId $ID

FT contract should be initialized before usage. You can read more about metadata at ['nomicon.io'](https://nomicon.io/Standards/FungibleToken/Metadata.html#reference-level-explanation). Modify the parameters and create a token:

    near call $ID new '{"owner_id": "'$ID'", "total_supply": "1000000000000000", "metadata": { "spec": "ft-1.0.0", "name": "Example Token Name", "symbol": "EXLT", "decimals": 8 }}' --accountId $ID

Get metadata:

    near view $ID ft_metadata


Transfer Example
---------------

Let's set up an account to transfer some tokens to. These account will be a sub-account of the NEAR account you logged in with.

    near create-account bob.$ID --masterAccount $ID --initialBalance 1

Add storage deposit for Bob's account:

    near call $ID storage_deposit '' --accountId bob.$ID --amount 0.00125


Check balance of Bob's account, it should be `0` for now:

    near view $ID ft_balance_of '{"account_id": "'bob.$ID'"}'

Transfer tokens to Bob from the contract that minted these fungible tokens, exactly 1 yoctoNEAR of deposit should be attached:

    near call $ID ft_transfer '{"receiver_id": "'bob.$ID'", "amount": "19"}' --accountId $ID --amount 0.000000000000000000000001


Check the balance of Bob again with the command from before and it will now return `19`.

## Testing

As with many Rust libraries and contracts, there are tests in the main fungible token implementation at `ft/src/lib.rs`.

Additionally, this project has [simulation] tests in `tests/sim`. Simulation tests allow testing cross-contract calls, which is crucial to ensuring that the `ft_transfer_call` function works properly. These simulation tests are the reason this project has the file structure it does. Note that the root project has a `Cargo.toml` which sets it up as a workspace. `ft` and `test-contract-defi` are both small & focused contract projects, the latter only existing for simulation tests. The root project imports `near-sdk-sim` and tests interaction between these contracts.

You can run unit tests with the following command:

```bash
cd ft && cargo test -- --nocapture --color=always
```

You can run integration tests with the following commands:
*Rust*
```bash
cd integration-tests/rs && cargo run --example integration-tests
```
*TypeScript*
```bash
cd integration-tests/ts && yarn && yarn test
```

## Notes

 - The maximum balance value is limited by U128 (`2**128 - 1`).
 - JSON calls should pass U128 as a base-10 string. E.g. "100".
 - This does not include escrow functionality, as `ft_transfer_call` provides a superior approach. An escrow system can, of course, be added as a separate contract or additional functionality within this contract.

## No AssemblyScript?

[near-contract-standards] is currently Rust-only. We strongly suggest using this library to create your own Fungible Token contract to ensure it works as expected.

Someday NEAR core or community contributors may provide a similar library for AssemblyScript, at which point this example will be updated to include both a Rust and AssemblyScript version.

## Contributing

When making changes to the files in `ft` or `test-contract-defi`, remember to use `./build.sh` to compile all contracts and copy the output to the `res` folder. If you forget this, **the simulation tests will not use the latest versions**.

Note that if the `rust-toolchain` file in this repository changes, please make sure to update the `.gitpod.Dockerfile` to explicitly specify using that as default as well.

near deploy token.hapi-test.testnet --wasmFile=res/hapi_token_release.wasm

near call $CONTRACT_ID new '{"owner_id": "'$OWNER_ID'", "total_supply": "1000000000000000000000000000000000", "metadata": { "spec": "ft-1.0.0", "name": "Hapi powered token", "symbol": "HAPI", "decimals": 18, "icon": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTIiIGZpbGw9IiNGREVFMkQiLz4KPHBhdGggZD0iTTExLjc3NjQgOS41ODg3QzExLjczNjcgOS42Mjg0MSAxMS42NzUgOS41ODQyOSAxMS42OTcgOS41MzU3NkMxMi4wNDU1IDguNzkwMiAxMy4xNzkzIDguNTU2MzkgMTQuMTE0NiA4LjcxNTIxQzE1LjU5NjkgOC45NjY2NyAxNS4zMzY2IDkuOTQ2MDQgMTUuMjI2MyAxMC4yMzI4QzE1LjA4NTEgMTAuNTk5IDE0Ljc3NjMgMTAuODYzNyAxNC41NjkgMTAuOTQzMUMxNC40NDk5IDEwLjk4NzIgMTQuMDM5NiAxMS4wODg2IDEzLjc4MzcgMTEuMDk3NUMxMy43NTgyIDExLjA5ODMgMTMuNzMwOSAxMS4wOTk2IDEzLjcwMjIgMTEuMTAwOUMxMy40NDI3IDExLjExMjYgMTMuMDYyNSAxMS4xMjk3IDEyLjc2NDYgMTAuOTQzMUMxMi43MTE3IDEwLjkwNzggMTMuMTY2MSAxMC4zNTE5IDEzLjgyNzggMTAuMzc0QzE0LjI3NzggMTAuMzg3MiAxNC41MjA0IDEwLjU0NiAxNC42MzA3IDEwLjY2NTFDMTQuNjMwNyAxMC42NjUxIDE1LjA5ODQgMTAuMzY5NiAxNC45MjE5IDkuOTM3MjJDMTQuNzAxMyA5LjQxMjI0IDEzLjgyMzQgOC45NjY2NyAxMy4xMzUyIDguOTYyMjZDMTIuNDk1NSA4Ljk1Nzg0IDEyLjAxMDIgOS4zNTA0OCAxMS43NzY0IDkuNTg4N1oiIGZpbGw9IiMxMzEzMTMiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOC40OTA2IDExLjY4MDJDMTguNDY4NiAxMS42NTM3IDE4LjQ0MjEgMTEuNjIyOCAxOC40MTU2IDExLjU5MkwxOC40MDI0IDExLjU3ODdDMTguMjMwNCAxMS4zODQ2IDE4LjA2NzEgMTEuMjEyNiAxNy45ODc3IDExLjEzMzFDMTguMDQwNyAxMC45NDc5IDE4LjE2NDIgMTAuNDE4NSAxOC4wMzE4IDkuOTgxNzJDMTcuOTMwNCA5LjY0MjAyIDE3LjczMTggOS4yOTc5MiAxNy42MjYgOS4xMjU4N0wxNy41OTA3IDkuMDcyOTNDMTcuNTczMSA5LjA0NjUxIDE3LjU1NTQgOS4wMTk5NCAxNy41NDIxIDguOTk3OTNDMTcuNTI4OSA4Ljk4MDI4IDE3LjUyMDEgOC45NjcwNSAxNy41MTU3IDguOTUzODFMMTcuNTA2OSA4LjkyMjkzQzE3LjM5NjYgOC42MTQxMiAxNy4xMjc1IDcuOTM5MTUgMTYuNzgzNCA3LjY4MzI3TDE5LjQwMzggMy42Mzc4NEMxOS41MDUzIDMuNDgzNDMgMTkuMzExMiAzLjMwNjk3IDE5LjE2NTYgMy40MTcyNkwxNS4zMzYzIDYuMzUwOTdDMTQuOTgyNSA1Ljg1MDc3IDE0LjQ5IDUuNDU1NTMgMTQuMzkxIDUuMzc2MDVMMTQuMzc0NiA1LjM2Mjc3QzE0LjMzOTMgNS4zMzYzIDE0LjI4NjQgNS4zMzE4OSAxNC4yNDY3IDUuMzUzOTVDMTQuMjA3IDUuMzc2MDEgMTQuMTg0OSA1LjQyNDU0IDE0LjE4OTMgNS40Njg2NUwxNC4xODk0IDUuNDcwMzRDMTQuMTkxMSA1LjQ5MzU3IDE0LjIwOTcgNS43NDkyMSAxNC4wNjE0IDYuMjQ1MDlDMTQuMzkyMyA2LjM2NDIxIDE0LjY3NDYgNi41MDk3OSAxNC45MTI4IDYuNjczMDJMMTQuNzE0MyA2LjgyNzQyQzE0LjMyNjEgNi41NzU5NiAxMy44MzIgNi4zNjQyMSAxMy4yMDExIDYuMjcxNTZDMTIuNDIwMyA2LjE1Njg2IDExLjc5MzggNi4zMTU2OCAxMS4zNDM5IDYuNzQzNkMxMS42MDQxIDYuOTExMjQgMTEuOTIxOCA3LjEyNzQxIDEyLjA5MzggNy4yOTA2NEMxMi4xMjkxIDcuMzIxNTIgMTIuMTYgNy4zNTY4IDEyLjE5MDkgNy4zOTIwOEMxMi4wNTQxIDcuNDMxNzggMTEuOTE3NCA3LjQ3NTkyIDExLjc4MDcgNy41MjAwM0MxMS43NzQgNy41MTU2MiAxMS43Njg1IDcuNTEwMTIgMTEuNzYzIDcuNTA0NkMxMS43NTc0IDcuNDk5MDkgMTEuNzUxOSA3LjQ5MzU4IDExLjc0NTMgNy40ODkxNkMxMS42ODA3IDcuNDMxMzIgMTEuNjAwMyA3LjM3MzQ4IDExLjUxNDMgNy4zMTE1OUMxMS40ODg4IDcuMjkzMjUgMTEuNDYyNyA3LjI3NDUxIDExLjQzNjUgNy4yNTUzNUMxMS4xOTgzIDcuMDg3NzEgMTAuOTIwMyA2Ljg4OTE5IDEwLjczOTUgNi42Mzc3M0MxMC42NDI0IDYuNTAwOTcgMTAuNTcxOCA2LjM1MDk3IDEwLjU0OTggNi4xNzg5MkMxMC41MzY1IDYuMDczMDQgMTAuNTA1NiA2LjAwMjQ1IDEwLjQ1MjcgNS45NjI3NUMxMC40MjYyIDUuOTQwNjkgMTAuMzI5MiA1Ljg3NDUyIDEwLjE5NjggNS45NzU5OUMxMC4xMDg2IDYuMDQ2NTcgMTAuMDAyNyA2LjIwOTggOS45MTAwOCA2LjQzMDM4QzkuNjgwNjggNi45NzMwMSA5LjUyNjI3IDcuODQ2NSA5LjgzMDY3IDguNDY0MTNDOS44ODM2MSA4LjU2NTU5IDkuOTM2NTUgOC42NjI2NSA5Ljk5MzkgOC43NTUyOUM5Ljk3NjI2IDguNzk5NDEgOS45NjMwMiA4Ljg0Nzk0IDkuOTU0MiA4Ljg5MjA1QzkuOTI3NzMgOS4wNDIwNSA5LjkxNDQ5IDkuMjM2MTYgOS45MDEyNiA5LjQ1MjMzQzkuMDI3NzYgOS4wODYxNiA3LjY3MzQgOC42ODAyOSA2LjQzODE1IDguOTgwMjhDNS4zODM3OCA5LjIzNjE2IDQuNjk5OTggOS43NTIzMSA0LjI1IDEwLjMwMzhDNC41NzY0NiAxMC4xNjcgNC45MjA1NiAxMC4wODMyIDUuMjg2NzMgMTAuMDU2N0M1LjUzMzc4IDEwLjAzOTEgNi4wMTAyMyAxMC4wOTIgNi41MTc1NiAxMC4xNDk0TDYuNTMzMyAxMC4xNTExQzcuMDUwMDkgMTAuMjA4IDcuNjM3MDcgMTAuMjcyNyA3Ljk2ODk4IDEwLjI1NTJDOC44MTYwMSAxMC4yMTk5IDkuNDU1NjkgMTAuMTA5NyA5Ljg4ODAyIDEwLjAwODJDOS44ODgwMiAxMC4yNDY0IDkuODkyNDQgMTAuNDk3OSA5LjkwNTY3IDEwLjc1MzdDOS45MzY1NSAxMS40OTQ5IDEwLjAxNiAxMi4yNjY5IDEwLjEyNjIgMTIuODA1MUMxMC4yODUxIDEzLjU5NDggMTAuODU0MiAxNS4yNDAzIDExLjUxMTUgMTUuNjU1QzExLjc1NDEgMTUuODA5NCAxMi4xMDcxIDE2LjAxNjggMTIuNTIxNyAxNi4yNDYyQzEyLjQxMTUgMTYuNTI4NSAxMi4yOTY4IDE2LjkxMjMgMTIuMjk2OCAxNy4yODI5QzEyLjI5NjggMTcuOTUzNSAxMi41MjYyIDE4LjQ1NjQgMTIuNzgyIDE4LjkxNTJDMTIuODM1NCAxOS4wMTA0IDEyLjg5MDEgMTkuMTAzNSAxMi45NDQxIDE5LjE5NTZDMTMuMDk1NSAxOS40NTM1IDEzLjI0MjcgMTkuNzA0MiAxMy4zNDY3IDE5Ljk3NEMxMy40NTcgMjAuMjYwNyAxMy4yMjc2IDIxLjE5NiAxMy4wOTk3IDIxLjY5MDFDMTMuMDQ2NyAyMS44ODg2IDEzLjAxNTggMjIuMDEyMSAxMy4wMjQ3IDIxLjk5ODlDMTMuMTg3OSAyMS43NzM5IDEzLjM1NTUgMjEuNTIyNSAxMy41MjMyIDIxLjI1NzhDMTQuMTk4MiAyMC4xOTAyIDE0LjM3OSAxOS4xODQzIDE0LjM4MzQgMTkuMTQwMkwxNC4zOTIzIDE5LjA3ODRMMTQuMzQzNyAxOS4wMzQzTDE0LjM0MTUgMTkuMDMyMkMxNC4yOTU2IDE4Ljk4OTEgMTMuNTgzNyAxOC4zMjExIDEzLjUzNjQgMTcuNTY1M0MxMy41MTg4IDE3LjI2MDkgMTMuNTgwNSAxNy4wNTc5IDEzLjcyNjEgMTYuOTU2NUMxMy43NDgyIDE2Ljk0MzIgMTMuNzcwMiAxNi45MyAxMy43OTY3IDE2LjkxNjdDMTQuMTI3NiAxNy4wOCAxNC40NTg0IDE3LjIzODggMTQuNzc2MSAxNy4zOEMxNC44OTk2IDE3LjUzNDQgMTUuMTczMSAxNy43OTQ3IDE1LjI5NjYgMTcuOTA5NEMxNS4zMjE5IDE3LjkzMzIgMTUuMzQ3MyAxNy45NTg3IDE1LjM3MzIgMTcuOTg0N0MxNS41MDA5IDE4LjExMzIgMTUuNjQwNSAxOC4yNTM1IDE1LjgzNDkgMTguMjUzNUgxNi43NzQ1QzE3LjAxMjggMTguMjUzNSAxNy4zNTI0IDE4LjI1MzUgMTcuNTM3NyAxOC4xNjA4QzE3LjcyMyAxOC4wNjgyIDE4LjAxODYgMTcuOTEzOCAxOC4wMjMgMTcuNjA1QzE4LjAyMyAxNy41Mzg4IDE4LjA0MDcgMTcuNDMyOSAxOC4wNjI3IDE3LjMwNUMxOC4yMjI5IDE3LjA5MjkgMTguMjQyOSAxNi44NDY4IDE4LjI3MjggMTYuNDc5MkwxOC4yNzQ1IDE2LjQ1NzlDMTguMjk2NSAxNi4yMDY1IDE4LjM0OTUgMTUuNzc0MSAxOC40MDY4IDE1LjMxNTNMMTguNDEzMSAxNS4yNjY0QzE4LjQ5OTQgMTQuNTg5MSAxOC41ODc1IDEzLjg5NzUgMTguNTc4OSAxMy42NDMzQzE4LjU3IDEzLjI4MTYgMTguNTMwMyAxMy4wMTI1IDE4LjUxNzEgMTIuOTI4N0MxOC41ODc3IDEyLjc1MjIgMTguNzczIDEyLjAwMjIgMTguNDkwNiAxMS42ODAyWk0xMS42NDgzIDE1LjQ1MjFDMTEuMDYxNSAxNS4wODE1IDEwLjUxODkgMTMuNDg0NSAxMC4zNjg5IDEyLjc1MjJDMTAuMTU3MSAxMS42OTc4IDEwLjA2NDUgOS43MzAyNiAxMC4xOTY4IDguOTIyOTNDMTAuMzE1OSA4LjE4NjIgMTIuMzU4NSA3LjQwMDkzIDEzLjgwMTEgNy4zNTI0QzEzLjg4NDkgNy4zNDc5OSAxMy45Njg3IDcuMzQ3OTkgMTQuMDQ4MSA3LjM0Nzk5SDE0LjE4MDVDMTQuMTc2MSA3LjU2NDE2IDE0LjIzNzkgOC4wMzYyIDE0Ljc4OTMgOC40NzI5NUMxNS40MDI1IDguOTU4MjMgMTYuMTMwNCA4LjY5MzUzIDE2LjEzMDQgOC42OTM1M0wxNi42NjQyIDcuODY4NTZDMTYuODYyOCA4LjAyMjk3IDE3LjA3ODkgOC40Mjg4MyAxNy4yMzc3IDguODQzNTJDMTcuMTk4IDguODI1ODggMTcuMTUzOSA4LjgxMjY0IDE3LjEwMSA4LjgwMzgyQzE2Ljc0MzYgOC43NDY0NyAxNS43MDY5IDguNzY0MTIgMTYuMDQyMiAxMC4xODQ2QzE2LjA4NjMgMTAuMzYxMSAxNi4yNzE2IDEwLjU5OTMgMTYuODAxIDExLjE2ODRDMTYuOTI0NSAxMS4zMDA4IDE3LjAyNiAxMS40MDIzIDE3LjEwOTggMTEuNDg2MUMxNy4zNTY5IDExLjczMzEgMTcuNDM2MyAxMS44MTI1IDE3LjQ0MDcgMTIuMDA2NkMxNy40NDA3IDEyLjAxNzEgMTcuNDM1MiAxMi4wNTUxIDE3LjQyODUgMTIuMTAxMUwxNy40MjMgMTIuMTM5QzE3LjM4NzcgMTIuMTEyNSAxNy4zMzkyIDEyLjA5MDUgMTcuMjczIDEyLjA5NDlDMTcuMTE0MiAxMi4wODYgMTUuNzg2MyAxMi4zNDE5IDE1LjQwMjUgMTIuNzYxQzE1LjMyNzUgMTIuODQ0OCAxNS4yMDQgMTIuODc1NyAxNS4xMDY5IDEyLjgyMjhDMTUuMTA0NyAxMi44MjA2IDE1LjEwMjUgMTIuODE5NSAxNS4xMDAzIDEyLjgxODRDMTUuMDk5MiAxMi44MTc4IDE1LjA5OCAxMi44MTcyIDE1LjA5NjkgMTIuODE2NUMxNS4wOTU4IDEyLjgxNTggMTUuMDk0OCAxMi44MTUgMTUuMDkzNyAxMi44MTRDMTUuMDMxOSAxMi43Nzg3IDE0Ljk5MjIgMTIuNzMwMSAxNC45NzAyIDEyLjY1OTZDMTQuOTEyOCAxMi40MzQ2IDE1LjA5ODEgMTIuMDc3MiAxNS4xNzMxIDExLjk1MzdDMTUuMTk5NiAxMS45MDk2IDE1LjE4NjQgMTEuODUyMiAxNS4xNDY2IDExLjgyNThDMTUuMTAyNSAxMS43OTkzIDE1LjA0NTIgMTEuODEyNSAxNS4wMTg3IDExLjg1MjJDMTUuMDE3NyAxMS44NTQzIDE1LjAxNDggMTEuODU5MiAxNS4wMTA2IDExLjg2NjZDMTQuOTk2OSAxMS44OTAzIDE0Ljk2ODQgMTEuOTM5NiAxNC45MzQ5IDEyLjAwNjZDMTQuNzg5MyAxMi4yOTc4IDE0LjU3MzEgMTIuNTQ0OSAxNC4zMDQgMTIuNzI1N0MxMy44NzE3IDEzLjAxNjkgMTMuMjQ1MyAxMy4zOTYzIDEyLjczNzkgMTMuNTI4NkMxMS45NDM4IDEzLjczNiAxMS42Mzk0IDEzLjE2NjkgMTEuNjI2MiAxMy4xNDA0QzExLjYwNDEgMTMuMDk2MyAxMS41NDY4IDEzLjA3ODcgMTEuNTAyNyAxMy4xMDA3QzExLjQ1ODYgMTMuMTIyOCAxMS40MzY1IDEzLjE4MDEgMTEuNDYzIDEzLjIyNDJMMTEuNDY1NiAxMy4yMjg3QzExLjQ5NTYgMTMuMjggMTEuNzc0MyAxMy43NTggMTIuNDExNSAxMy43NThDMTIuNDM3OSAxMy43NTggMTIuNDczMiAxMy43NTM2IDEyLjUwODUgMTMuNzQ5MkMxMi42OTgyIDEzLjcyNzIgMTIuODg3OSAxMy43NzEzIDEzLjA1MTEgMTMuODY4M0MxMy4yMDU1IDEzLjk2MSAxMy40MDQxIDE0LjA3NTcgMTMuNjAyNiAxNC4xNzcxQzE0LjE1ODUgMTQuNDU1MSAxNC4yNTExIDE0LjQ1MDcgMTQuNDYyOSAxNC40MTU0QzE0LjQ3MDQgMTQuNDE0IDE0LjUyODMgMTQuNDEwNSAxNC42MjU3IDE0LjQwNDdDMTUuMTU3NyAxNC4zNzI3IDE2Ljg2NyAxNC4yNjk4IDE3Ljk5NjUgMTQuMDUzNkwxOC4xNTU0IDE0LjA2MjRDMTguMjYxMiAxNC4wNjY5IDE4LjM0NTEgMTQuMTYzOSAxOC4zMzE4IDE0LjI2OThWMTQuMjc0MkMxOC4zMjMgMTQuMzM2IDE4LjI4NzcgMTQuMzg4OSAxOC4yMzQ4IDE0LjQxOThDMTguMTE1NyAxNC40ODYgMTcuOTQ4IDE0LjU3NDIgMTcuNzk4IDE0LjYzNkMxNy43Mjc0IDE0LjY2MjQgMTcuNjUyNCAxNC42ODg5IDE3LjU3MyAxNC43MDY1QzE3LjMzMDQgMTQuNzYzOSAxNy4wODMzIDE0Ljc3NzEgMTcuMDgzMyAxNC43NzcxQzE3LjA4MzMgMTQuNzc3MSAxNi44NDUxIDE0LjgzMDEgMTYuNDg3OCAxNC44Njk4QzE2LjMzNzggMTQuODg3NCAxNi4xNzAxIDE0LjkwMDYgMTUuOTg5MyAxNC45MDk1QzE1Ljc2MDIgMTQuOTIwOSAxNS42MjIyIDE0LjkzMzYgMTUuNTEyNiAxNC45NDM2QzE1LjMyNjcgMTQuOTYwNyAxNS4yMjI3IDE0Ljk3MDIgMTQuODk1MiAxNC45NTM2QzE0Ljc2NzMgMTQuOTQ5MiAxNC42NDM3IDE0Ljk0MDQgMTQuNTI5IDE0LjkyNzFDMTQuNDE4NyAxNC45MTM5IDE0LjM4NzkgMTUuMDc3MSAxNC40OTgxIDE1LjEwMzZDMTQuNzY3MyAxNS4xNjk4IDE1LjA4NDkgMTUuMjE4MyAxNS40Mzc4IDE1LjIxMzlIMTUuNTY1OEMxNi4xMzA0IDE1LjIwOTUgMTYuNjQyMiAxNS41NDQ3IDE2Ljg2MjggMTYuMDY1M0MxNi45NTU0IDE2LjI4NTkgMTcuMDQzNiAxNi41OTQ3IDE3LjEwMSAxNi44ODE1QzE3LjE4MDQgMTcuMjUyIDE2Ljg2NzIgMTcuNTkxNyAxNi40OTIyIDE3LjU1NjRDMTUuOTQwNyAxNy40OTkxIDE1LjMxODcgMTcuMzQ0NyAxNC45NjU4IDE3LjE5MDNDMTMuNzM0OSAxNi42NjUzIDEyLjI4MzUgMTUuODU4IDExLjY0ODMgMTUuNDUyMVpNMTcuNDE0MiA5LjIxNDFMMTcuNDY3MSA5LjI5NzkyQzE3LjU3MyA5LjQ3NDM4IDE3LjcyNzQgOS43NjExNCAxNy44MTU3IDEwLjA0MzVDMTcuOTQzNiAxMC40NzI3IDE3Ljc3ODEgMTEuMDQwOSAxNy43NTYyIDExLjExNkwxNy43NTM5IDExLjEyNDNMMTcuNzMxOCAxMS4xOTA1TDE3Ljc4MDQgMTEuMjM5QzE3Ljc4MDQgMTEuMjQwNiAxNy44MDk0IDExLjI3MTMgMTcuODU3NiAxMS4zMjIxQzE3Ljk0MjIgMTEuNDExNCAxOC4wODU4IDExLjU2MjkgMTguMjM0OCAxMS43Mjg3TDE4LjIzOTIgMTEuNzM3NUMxOC4yNTI0IDExLjc1MyAxOC4yNjU3IDExLjc2NzMgMTguMjc4OSAxMS43ODE3QzE4LjI5MjEgMTEuNzk2IDE4LjMwNTQgMTEuODEwMyAxOC4zMTg2IDExLjgyNThDMTguNDgxOCAxMi4wMTU1IDE4LjQwMjQgMTIuNTc1NyAxOC4zMTQyIDEyLjg4MDFMMTguMzA1NCAxMi45MDY2TDE4LjMwOTggMTIuOTMzMUMxOC4zMDk4IDEyLjkzMzEgMTguMzIzIDEyLjk5OTIgMTguMzM2MiAxMy4xMDUxQzE4LjIxNzEgMTMuMTE4NCAxOC4xMjg5IDEzLjIyNDIgMTguMTQyMSAxMy4zNDc4TDE4LjE3NzQgMTMuNjc4NkwxNy43OTggMTMuNjgzTDE3LjIwMjUgMTMuMDA4MUMxNy4xNTgzIDEyLjk1NTEgMTcuMTU4MyAxMi44NzU3IDE3LjIxMTMgMTIuODMxNkMxNy41MjQ1IDEyLjU0OTMgMTcuNTY4NiAxMi40MTI1IDE3LjU3NzQgMTIuMzU5NkMxNy42MTcxIDEyLjEyMTMgMTcuNjMwNCAxMi4wMzMxIDE3LjYzMDQgMTIuMDAyMkMxNy42MzA0IDExLjczMzEgMTcuNTAyNCAxMS42MDUyIDE3LjI0NjYgMTEuMzQ5M0MxNy4xNjI4IDExLjI2NTUgMTcuMDYxMyAxMS4xNjQgMTYuOTQyMiAxMS4wMzYxQzE2LjkyODkgMTEuMDIyOSAxNi45MTY4IDExLjAwOTYgMTYuOTA0NyAxMC45OTY0QzE2Ljg5MjUgMTAuOTgzMSAxNi44ODA0IDEwLjk2OTkgMTYuODY3MiAxMC45NTY3QzE2Ljk1OTggMTAuOTgzMSAxNy4wODMzIDExLjAwOTYgMTcuMjQyMiAxMS4wMjI5QzE3LjYxMjcgMTEuMDUzNyAxNy43MjMgMTAuOTYxMSAxNy43MjMgMTAuOTYxMUMxNy43MjMgMTAuOTYxMSAxNy43ODkyIDEwLjg0MiAxNy42NzQ1IDEwLjY2OTlDMTcuNTU5OCAxMC40OTc5IDE3LjQwMSAxMC4zNzQzIDE3LjA5MjIgMTAuMzY1NUMxNi44NzE2IDEwLjM1NjcgMTYuNjczMSAxMC41Mjg4IDE2LjU3NiAxMC42MzAyQzE2LjUzNjMgMTAuNTg2MSAxNi40NDgxIDEwLjQyMjkgMTYuNDA4NCAxMC4xNDk0QzE2LjM0MjIgOS43MjE0MyAxNi41MDEgOS41MjI5MSAxNi42MTU3IDkuNDI1ODZDMTYuODE4NiA5LjI1MzggMTcuMDk2NiA5LjA4NjE2IDE3LjI1MSA5LjA5NDk5TDE3LjI2MDkgOS4wOTYwOEMxNy4yOTc5IDkuMTAwMTYgMTcuMzM3NyA5LjEwNDU0IDE3LjM3MDEgOS4xMTI2M0MxNy4zNzQ1IDkuMTQ3OTIgMTcuMzkyMiA5LjE3ODgxIDE3LjQxNDIgOS4yMTQxWk0xOC4wNjI3IDE2LjQzNTlDMTguMDMxOCAxNi43OTc2IDE4LjAxNDIgMTcuMDAwNiAxNy44OTUxIDE3LjE2MzhDMTcuNzkzNiAxNy4zMDA2IDE3LjU3MyAxNy4xOTkxIDE3LjYwMzkgMTcuMDMxNUMxNy42MjE2IDE2LjkzODggMTcuNjM0OCAxNi44NDE4IDE3LjYzOTIgMTYuNzQ5MUMxNy42NDg3IDE2LjQwODcgMTcuNTMyMSAxNi4wNzk3IDE3LjQzNjUgMTUuODEwMkMxNy4zOTk2IDE1LjcwNiAxNy4zNjU4IDE1LjYxMDcgMTcuMzQzNiAxNS41MjcxVjE1LjUyMjdDMTcuMzAzOSAxNS4zNTUgMTcuMzk2NiAxNS4xODMgMTcuNTU1NCAxNS4xMTI0QzE3LjYyNiAxNS4wODE1IDE3LjcwNTQgMTUuMDQxOCAxNy43ODkyIDE0Ljk5NzdDMTcuOTkyMSAxNC44OTYyIDE4LjIyNTkgMTUuMDU1MSAxOC4xOTUxIDE1LjI4VjE1LjI4NDVDMTguMTc2OCAxNS40NDI1IDE4LjE1ODEgMTUuNTk3OCAxOC4xNDA0IDE1Ljc0NDFDMTguMTA2OCAxNi4wMjI2IDE4LjA3NzIgMTYuMjY4MSAxOC4wNjI3IDE2LjQzNTlaTTE0LjYwODQgMTIuNzUyMkMxNC42ODc4IDEyLjY5NDggMTQuODAyNSAxMi43MTY5IDE0Ljg1NTUgMTIuODA1MUMxNC44OTA4IDEyLjg2NjkgMTQuOTM5MyAxMi45MzMxIDE1LjAwNTUgMTIuOTg2QzE1LjE5NDYgMTMuMTQxNSAxNS40MTU2IDEzLjE0MDkgMTUuNTY1OCAxMy4xNDA1TDE1LjU4NzggMTMuMTQwNEMxNS43MzM0IDEzLjE0MDQgMTUuODI2IDEzLjExNCAxNS44NTI1IDEzLjEwNTFDMTUuOTU4NCAxMy4wODMxIDE2LjA0MjIgMTMuMTkzNCAxNS45ODkzIDEzLjI5MDRDMTUuODc0NiAxMy41MDIyIDE1LjcyMDIgMTMuNzgwMSAxNS43MDI1IDEzLjc5MzNDMTUuNjcxNiAxMy44MTU0IDE0LjY5NjcgMTQuMDE4MyAxNC41NzMxIDE0LjAzMTZDMTQuNDQ5NiAxNC4wNDQ4IDE0LjA2MTQgMTQuMDg0NSAxMy43NzAyIDEzLjg5OTJDMTMuNjU3NSAxMy44MzA4IDEzLjU0ODQgMTMuNzUxMyAxMy40NTY1IDEzLjY4NDNMMTMuNDMwNSAxMy42NjU0QzEzLjM1NTUgMTMuNjEyNSAxMy4zNjg4IDEzLjQ5NzggMTMuNDQ4MiAxMy40NTgxQzEzLjg4OTMgMTMuMjM3NSAxNC4zMjYxIDEyLjk1MDcgMTQuNjA4NCAxMi43NTIyWk0xNi44ODkyIDEzLjM4NzVMMTcuMjU1NCAxMy43ODg5QzE3LjMyMTYgMTMuODYzOSAxNy4yNzc1IDEzLjk4MyAxNy4xODA0IDEzLjk5NjNDMTYuOTU5OCAxNC4wMjI3IDE2LjczOTIgMTQuMDQ5MiAxNi41MjMxIDE0LjA3MTNDMTYuNDIxNiAxNC4wODAxIDE2LjM1MSAxMy45Njk4IDE2LjQwNCAxMy44ODE2QzE2LjQ4NzggMTMuNzQ5MiAxNi41OTM3IDEzLjU3MjggMTYuNjkwNyAxMy40MDUxQzE2LjczMDQgMTMuMzM0NSAxNi44MzE5IDEzLjMyNTcgMTYuODg5MiAxMy4zODc1Wk0xNS4xMDY5IDYuOTE1NjZMMTguNzkwNiAzLjg2NzI0TDE1LjM5ODEgNy4yNTk3NkMxNS4yODc4IDcuMzY1NjQgMTUuMTA2OSA3LjMzMDM1IDE1LjA0MDggNy4xOTM1OUMxNC45OTY3IDcuMDk2NTMgMTUuMDIzMSA2Ljk3NzQyIDE1LjEwNjkgNi45MTU2NloiIGZpbGw9IiMxMzEzMTMiLz4KPHBhdGggZD0iTTkuMjUzMSA3LjE2Njk5QzkuMDk0MjkgNy4xODAyMyA4LjkzOTg4IDcuMjA2NyA4Ljc4MTA2IDcuMjQ2NEM3LjcwMDIyIDcuNTExMSA3LjAwMzE5IDguMDQ0OSA2LjU1NzYyIDguNjE0QzcuNjM4NDYgOC40MDY2NSA4Ljc1OSA4LjY3MTM1IDkuNTI2NjIgOC45NDA0NUM5LjU0ODY3IDguOTQ5MjcgOS41NzA3NSA4Ljk1ODExIDkuNTk3MjEgOC45NjY5MkM5LjQ3ODEgOC43ODE2NCA5LjM2NzgxIDguNTY5ODggOS4yNzk1NyA4LjMzMTY1QzkuMTQyODEgNy45NzQzMSA5LjE2MDQ2IDcuNTU1MjEgOS4yNTMxIDcuMTY2OTlaIiBmaWxsPSIjMTMxMzEzIi8+CjxwYXRoIGQ9Ik02LjQ5NTQ5IDEwLjQ3MTJDNi4wNjMxNSAxMC40MjI3IDUuNjUyODcgMTAuMzc4NSA1LjQxMDI0IDEwLjM3ODVDNS4zNzkzNiAxMC4zNzg1IDUuMzQ4NDcgMTAuMzc4NSA1LjMyMiAxMC4zODI5QzMuNjQxMTggMTAuNDk3NyAyLjM1NzQxIDEyLjAyODUgMi4yNzM1OSAxNC4wMTgxQzIuMjExODMgMTUuNDM4NiAyLjg2OTE1IDE2LjM2MDcgMy4zMDE0OSAxNi44MTUxQzMuMjM1MzIgMTYuMjYzNiAzLjI5NzA4IDE1LjcxMjIgMy40OTExOSAxNS4xNjk1QzQuMDA3MzUgMTMuNzMxNCA1LjAwNDM3IDEzLjMxMjMgNi4xNjQ2MiAxMi44MjdDNi42NDEwNyAxMi42Mjg1IDcuMTU3MjMgMTIuNDA3OSA3LjY3NzggMTIuMDk0Nkw5Ljg4ODAxIDEwLjM0NzdDOS40NDI0NCAxMC40NDQ3IDguODExNTggMTAuNTQ2MiA3Ljk5NTQzIDEwLjU4MTVDNy42NDk2OCAxMC41OTg1IDcuMDkzMjggMTAuNTM3MSA2LjU1MDA0IDEwLjQ3NzJMNi40OTU0OSAxMC40NzEyWiIgZmlsbD0iIzEzMTMxMyIvPgo8cGF0aCBkPSJNMy44MDQzNyAxNS4yODQ4QzQuMjcxOTkgMTMuOTgzNCA1LjE2MzE0IDEzLjYwODQgNi4yOTI1MSAxMy4xMzY0QzcuMDY0NTQgMTIuODE0MyA3LjkyOTIxIDEyLjQ0ODEgOC43NzE4MyAxMS43MTU4QzguODI0NzcgMTIuMjIzMiA4Ljg1MTIzIDEzLjMxMjggOC4yODIxNCAxNC40NTFDOC4wOTAyIDE0LjgzMDUgNy44MjQ5NCAxNS4xNDk2IDcuNTQ2MDcgMTUuNDg1MUw3LjUzNjU4IDE1LjQ5NjZDNi43MTYwMiAxNi40NzU5IDUuNzk0IDE3LjU4MzIgNi41NjE2MSAyMC41ODMxQzQuMjE5MDYgMTkuMTg5MSAzLjEzODIxIDE3LjEzNzcgMy44MDQzNyAxNS4yODQ4WiIgZmlsbD0iIzEzMTMxMyIvPgo8L3N2Zz4K"}, "aml_account_id": "'$AML_ID'"}' --accountId $CONTRACT_ID